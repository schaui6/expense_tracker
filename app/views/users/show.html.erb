<% if user_signed_in? %>
  <%= link_to '<i class="glyphicon glyphicon-off"></i> Log Off'.html_safe,  destroy_user_session_path, method: :delete %>
<% end %>

<% if current_user.admin? %>
  <p><strong>All</strong> Expenses</p>

<table>
  <th>Description:</th>
  <th>Amount:</th>
  <th>Transaction Date & Time:</th>
  <% @all_expenses.each do |expense| %>

  <tr>
    <td><%= expense.description %></td>
    <td>$ <%= '%.2f' % expense.amount %></td>
    <td><%= expense.date_time %></td>
  </tr>
  <% end %>
</table>
<% end %>

<p><strong><%= @user.email %>'s</strong> Expenses</p>
<%= form_for [@user, @new_expense] do |f| %>
  <%= f.text_field :description, required: true, placeholder: 'description' %>
  <%= f.text_field :amount, required: true, placeholder: 'amount' %>
  <%= f.text_field :date_time, required: true, placeholder: 'date & time' %>

  <%= f.submit "add an expense" %>

<% end %>

<table>
  <th>Description:</th>
  <th>Amount:</th>
  <th>Transaction Date & Time:</th>
  <% @user_expenses.each do |expense| %>

  <tr>
    <td><%= best_in_place [@user, expense], :description %></td>
    <td>$ <%= best_in_place [@user, expense],:amount %></td>
    <td><%= best_in_place [@user, expense], :date_time %></td>
  

    <td><%= link_to 'delete', user_expense_path(@user, expense),
            data: {:confirm => 'Are you sure?'}, :method => :delete %></td>
  </tr>
  <% end %>
  <tr>
    <td>* To edit: select desired field </td>
  </tr>
</table>